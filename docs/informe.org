#+SETUPFILE: ./org/theme-readtheorg.setup
#+SETUPFILE: ./org/setup.org

#+BEGIN_EXPORT latex
\begin{titlepage}
    \hfill\includegraphics[width=6cm]{assets/logofiuba.jpg}
    \centering
    \vfill
    \Huge \textbf{Trabajo Práctico 1}
    \vskip0.5cm
    \Large \textbf{Grupo}
    \vskip2cm
    \Large [75.73/TB034] Arquitectura del Software \\
    Segundo cuatrimestre de 2025\\
    \vfill
    \begin{tabular}{ | l | l | l | }
      \hline
      Alumno & Padrón & Email \\ \hline
      CASTRO MARTINEZ, Jose Ignacio & 106957 & jcastrom@fi.uba.ar \\ \hline
      DEALBERA, Pablo Andres & 106858 & pdealbera@fi.uba.ar \\ \hline
      FIGUEROA RODRIGUEZ, Andrea Emperatriz & 110450 & afigueroa@fi.uba.ar \\ \hline
      RICALDI REBATA, Brayan Alexander & 103344 & bricaldi@fi.uba.ar \\ \hline
    \end{tabular}
    \vfill
\end{titlepage}
\renewcommand{\contentsname}{Índice}
\tableofcontents
\newpage
\definecolor{bg}{rgb}{0.95,0.95,0.95}
#+END_EXPORT

* Introducción

* Arquitectura

** Diagrama de Componentes y Conectores

#+BEGIN_SRC plantuml :file assets/componentes.png :exports results
@startuml
!theme plain
skinparam componentStyle rectangle

component "Cliente" as Client

package "Contenedores Docker" {
  component "Nginx\n(Reverse Proxy)" as Nginx {
    portin "80 (host:5555)" as p_nginx_in
    portout "3000" as p_nginx_out
  }
  component "API\n(Node.js)" as API {
    portin "3000" as p_api
  }
  component "Base de Datos\n(Archivos JSON)" as DB
  component "cAdvisor\n(Monitoring)" as CAdvisor {
    portout "8125 (StatsD)" as p_cadvisor
  }
  component "Graphite\n(Métricas)" as Graphite {
    portin "80 (host:8090)" as p_graphite_http
    portin "8125/udp" as p_graphite_statsd
    portin "8126" as p_graphite_pickle
  }
  component "Grafana\n(Dashboard)" as Grafana {
    portin "3000 (host:8081)" as p_grafana
  }
}

Client --> p_nginx_in : HTTP
p_nginx_out --> p_api : HTTP
API --> DB : I/O de archivos
p_cadvisor --> p_graphite_statsd : StatsD
p_grafana --> p_graphite_http : HTTP
CAdvisor --> [Docker Daemon] : Monitoreo de contenedores
#+END_SRC

#+RESULTS:
[[file:assets/componentes.png]]
